{
	# Enable Admin API on all interfaces (0.0.0.0:2019)
	# This allows the Clubs backend to communicate with Caddy for live updates
	admin 0.0.0.0:2019
}

:80 {
	root * /app/dist

	# API endpoints - proxy to Fastify server
	handle /api/* {
		reverse_proxy localhost:8080
	}

	# Serve static files
	file_server

	# SPA fallback - serve index.html for all other routes
	try_files {path} /index.html

	encode gzip
}
